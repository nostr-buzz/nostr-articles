var gs=Object.defineProperty;var Xn=e=>{throw TypeError(e)};var ys=(e,t,n)=>t in e?gs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var z=(e,t,n)=>ys(e,typeof t!="symbol"?t+"":t,n),Ft=(e,t,n)=>t.has(e)||Xn("Cannot "+n);var x=(e,t,n)=>(Ft(e,t,"read from private field"),n?n.call(e):t.get(e)),H=(e,t,n)=>t.has(e)?Xn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),V=(e,t,n,r)=>(Ft(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),W=(e,t,n)=>(Ft(e,t,"access private method"),n);import{r as i,A as xs,S as bs,B as Zn,C as pe,t as en,D as mt,E as ws,F as tn,G as Jn,H as Cs,I as Es,J as Rs,K as er,x as kr,m as Ns,c as Q,M as Ss,O as Ct,Q as b,T as Mr,U as js,V as tr,W as $t,n as vt,Y as Ir,Z as ks,y as Ms,j as a,_ as Is,l as L,$ as Ps,h as Te,P as F,a0 as He,f as le,g as at,i as S,a1 as me,a2 as Cn,a3 as En,a4 as Rn,a5 as As,X as Ds,a6 as Pr,a7 as Ut,N as nr,a8 as St,a9 as Ar,aa as Nn,ab as Ts,ac as Dr,ad as Tr,ae as Pe,af as _s,ag as Os}from"./index-C1T0n0NP.js";function _r(){const e=i.useContext(xs);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}var ne,T,nt,J,Se,Be,be,we,rt,Ve,We,je,ke,Ce,ze,U,Xe,nn,rn,on,an,sn,cn,ln,Or,jr,Ls=(jr=class extends bs{constructor(t,n){super();H(this,U);H(this,ne);H(this,T);H(this,nt);H(this,J);H(this,Se);H(this,Be);H(this,be);H(this,we);H(this,rt);H(this,Ve);H(this,We);H(this,je);H(this,ke);H(this,Ce);H(this,ze,new Set);this.options=n,V(this,ne,t),V(this,we,null),V(this,be,Zn()),this.options.experimental_prefetchInRender||x(this,be).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,T).addObserver(this),rr(x(this,T),this.options)?W(this,U,Xe).call(this):this.updateResult(),W(this,U,an).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return un(x(this,T),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return un(x(this,T),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,W(this,U,sn).call(this),W(this,U,cn).call(this),x(this,T).removeObserver(this)}setOptions(t){const n=this.options,r=x(this,T);if(this.options=x(this,ne).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof pe(this.options.enabled,x(this,T))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");W(this,U,ln).call(this),x(this,T).setOptions(this.options),n._defaulted&&!en(this.options,n)&&x(this,ne).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,T),observer:this});const o=this.hasListeners();o&&or(x(this,T),r,this.options,n)&&W(this,U,Xe).call(this),this.updateResult(),o&&(x(this,T)!==r||pe(this.options.enabled,x(this,T))!==pe(n.enabled,x(this,T))||mt(this.options.staleTime,x(this,T))!==mt(n.staleTime,x(this,T)))&&W(this,U,nn).call(this);const s=W(this,U,rn).call(this);o&&(x(this,T)!==r||pe(this.options.enabled,x(this,T))!==pe(n.enabled,x(this,T))||s!==x(this,Ce))&&W(this,U,on).call(this,s)}getOptimisticResult(t){const n=x(this,ne).getQueryCache().build(x(this,ne),t),r=this.createResult(n,t);return $s(this,r)&&(V(this,J,r),V(this,Be,this.options),V(this,Se,x(this,T).state)),r}getCurrentResult(){return x(this,J)}trackResult(t,n){return new Proxy(t,{get:(r,o)=>(this.trackProp(o),n==null||n(o),Reflect.get(r,o))})}trackProp(t){x(this,ze).add(t)}getCurrentQuery(){return x(this,T)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=x(this,ne).defaultQueryOptions(t),r=x(this,ne).getQueryCache().build(x(this,ne),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return W(this,U,Xe).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,J)))}createResult(t,n){var X;const r=x(this,T),o=this.options,s=x(this,J),c=x(this,Se),l=x(this,Be),d=t!==r?t.state:x(this,nt),{state:p}=t;let u={...p},h=!1,m;if(n._optimisticResults){const B=this.hasListeners(),te=!B&&rr(t,n),q=B&&or(t,r,n,o);(te||q)&&(u={...u,...Rs(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:w,errorUpdatedAt:g,status:y}=u;m=u.data;let C=!1;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let B;s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(B=s.data,C=!0):B=typeof n.placeholderData=="function"?n.placeholderData((X=x(this,We))==null?void 0:X.state.data,x(this,We)):n.placeholderData,B!==void 0&&(y="success",m=er(s==null?void 0:s.data,B,n),h=!0)}if(n.select&&m!==void 0&&!C)if(s&&m===(c==null?void 0:c.data)&&n.select===x(this,rt))m=x(this,Ve);else try{V(this,rt,n.select),m=n.select(m),m=er(s==null?void 0:s.data,m,n),V(this,Ve,m),V(this,we,null)}catch(B){V(this,we,B)}x(this,we)&&(w=x(this,we),m=x(this,Ve),g=Date.now(),y="error");const P=u.fetchStatus==="fetching",R=y==="pending",j=y==="error",M=R&&P,I=m!==void 0,D={status:y,fetchStatus:u.fetchStatus,isPending:R,isSuccess:y==="success",isError:j,isInitialLoading:M,isLoading:M,data:m,dataUpdatedAt:u.dataUpdatedAt,error:w,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:P,isRefetching:P&&!R,isLoadingError:j&&!I,isPaused:u.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&I,isStale:Sn(t,n),refetch:this.refetch,promise:x(this,be)};if(this.options.experimental_prefetchInRender){const B=ie=>{D.status==="error"?ie.reject(D.error):D.data!==void 0&&ie.resolve(D.data)},te=()=>{const ie=V(this,be,D.promise=Zn());B(ie)},q=x(this,be);switch(q.status){case"pending":t.queryHash===r.queryHash&&B(q);break;case"fulfilled":(D.status==="error"||D.data!==q.value)&&te();break;case"rejected":(D.status!=="error"||D.error!==q.reason)&&te();break}}return D}updateResult(){const t=x(this,J),n=this.createResult(x(this,T),this.options);if(V(this,Se,x(this,T).state),V(this,Be,this.options),x(this,Se).data!==void 0&&V(this,We,x(this,T)),en(n,t))return;V(this,J,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!x(this,ze).size)return!0;const c=new Set(s??x(this,ze));return this.options.throwOnError&&c.add("error"),Object.keys(x(this,J)).some(l=>{const f=l;return x(this,J)[f]!==t[f]&&c.has(f)})};W(this,U,Or).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&W(this,U,an).call(this)}},ne=new WeakMap,T=new WeakMap,nt=new WeakMap,J=new WeakMap,Se=new WeakMap,Be=new WeakMap,be=new WeakMap,we=new WeakMap,rt=new WeakMap,Ve=new WeakMap,We=new WeakMap,je=new WeakMap,ke=new WeakMap,Ce=new WeakMap,ze=new WeakMap,U=new WeakSet,Xe=function(t){W(this,U,ln).call(this);let n=x(this,T).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ws)),n},nn=function(){W(this,U,sn).call(this);const t=mt(this.options.staleTime,x(this,T));if(tn||x(this,J).isStale||!Jn(t))return;const r=Cs(x(this,J).dataUpdatedAt,t)+1;V(this,je,setTimeout(()=>{x(this,J).isStale||this.updateResult()},r))},rn=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,T)):this.options.refetchInterval)??!1},on=function(t){W(this,U,cn).call(this),V(this,Ce,t),!(tn||pe(this.options.enabled,x(this,T))===!1||!Jn(x(this,Ce))||x(this,Ce)===0)&&V(this,ke,setInterval(()=>{(this.options.refetchIntervalInBackground||Es.isFocused())&&W(this,U,Xe).call(this)},x(this,Ce)))},an=function(){W(this,U,nn).call(this),W(this,U,on).call(this,W(this,U,rn).call(this))},sn=function(){x(this,je)&&(clearTimeout(x(this,je)),V(this,je,void 0))},cn=function(){x(this,ke)&&(clearInterval(x(this,ke)),V(this,ke,void 0))},ln=function(){const t=x(this,ne).getQueryCache().build(x(this,ne),this.options);if(t===x(this,T))return;const n=x(this,T);V(this,T,t),V(this,nt,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Or=function(t){kr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(x(this,J))}),x(this,ne).getQueryCache().notify({query:x(this,T),type:"observerResultsUpdated"})})},jr);function Fs(e,t){return pe(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function rr(e,t){return Fs(e,t)||e.state.data!==void 0&&un(e,t,t.refetchOnMount)}function un(e,t,n){if(pe(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Sn(e,t)}return!1}function or(e,t,n,r){return(e!==t||pe(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Sn(e,n)}function Sn(e,t){return pe(t.enabled,e)!==!1&&e.isStaleByTime(mt(t.staleTime,e))}function $s(e,t){return!en(e.getCurrentResult(),t)}var Lr=i.createContext(!1),Us=()=>i.useContext(Lr);Lr.Provider;function Ks(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Gs=i.createContext(Ks()),Bs=()=>i.useContext(Gs);function Vs(e,t){return typeof e=="function"?e(...t):!!e}function ar(){}var Ws=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},zs=e=>{i.useEffect(()=>{e.clearReset()},[e])},Hs=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(o&&e.data===void 0||Vs(n,[e.error,r])),Qs=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},qs=(e,t)=>e.isLoading&&e.isFetching&&!t,Ys=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,sr=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Xs(e,t,n){var u,h,m,w,g;const r=Ns(),o=Us(),s=Bs(),c=r.defaultQueryOptions(e);(h=(u=r.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||h.call(u,c),c._optimisticResults=o?"isRestoring":"optimistic",Qs(c),Ws(c,s),zs(s);const l=!r.getQueryCache().get(c.queryHash),[f]=i.useState(()=>new t(r,c)),d=f.getOptimisticResult(c),p=!o&&e.subscribed!==!1;if(i.useSyncExternalStore(i.useCallback(y=>{const C=p?f.subscribe(kr.batchCalls(y)):ar;return f.updateResult(),C},[f,p]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),i.useEffect(()=>{f.setOptions(c)},[c,f]),Ys(c,d))throw sr(c,f,s);if(Hs({result:d,errorResetBoundary:s,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw d.error;if((w=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||w.call(m,c,d),c.experimental_prefetchInRender&&!tn&&qs(d,o)){const y=l?sr(c,f,s):(g=r.getQueryCache().get(c.queryHash))==null?void 0:g.promise;y==null||y.catch(ar).finally(()=>{f.updateResult()})}return c.notifyOnChangeProps?d:f.trackResult(d)}function Zs(e,t){return Xs(e,Ls)}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=Q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Q("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=Q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Q("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Q("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=Q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Q("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=Q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=Q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=Q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=Q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=Q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=Q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=Q("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);var pi=Ss[" useId ".trim().toString()]||(()=>{}),hi=0;function re(e){const[t,n]=i.useState(pi());return Ct(()=>{n(r=>r??String(hi++))},[e]),e||(t?`radix-${t}`:"")}class Je{constructor(t){z(this,"pubkey");z(this,"relays");z(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),o=n.hostname||n.pathname.slice(2),s=r.getAll("relay"),c=r.get("secret")??void 0;if(!o)throw new Error("Invalid bunker URI");this.pubkey=o,this.relays=s,this.secret=c}get href(){return this.toString()}toString(){return Je.toString(this)}static fromJSON(t){const n=Je.toString(t);return new Je(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}class K{static id(){return b.string().regex(/^[0-9a-f]{64}$/)}static event(){return b.object({id:K.id(),kind:b.number().int().nonnegative(),pubkey:K.id(),tags:b.string().array().array(),content:b.string(),created_at:b.number().int().nonnegative(),sig:b.string()})}static filter(){return b.object({kinds:b.number().int().nonnegative().array().optional(),ids:K.id().array().optional(),authors:K.id().array().optional(),since:b.number().int().nonnegative().optional(),until:b.number().int().nonnegative().optional(),limit:b.number().int().nonnegative().optional(),search:b.string().optional()}).passthrough().transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[o,s])=>((n.includes(o)||o.startsWith("#"))&&(r[o]=s),r),{})})}static bech32(t){return b.string().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return b.string().url().regex(/^wss?:\/\//)}static clientEVENT(){return b.tuple([b.literal("EVENT"),K.event()])}static clientREQ(){return b.tuple([b.literal("REQ"),b.string()]).rest(K.filter())}static clientCOUNT(){return b.tuple([b.literal("COUNT"),b.string()]).rest(K.filter())}static clientCLOSE(){return b.tuple([b.literal("CLOSE"),b.string()])}static clientAUTH(){return b.tuple([b.literal("AUTH"),K.event()])}static clientMsg(){return b.union([K.clientEVENT(),K.clientREQ(),K.clientCOUNT(),K.clientCLOSE(),K.clientAUTH()])}static relayEVENT(){return b.tuple([b.literal("EVENT"),b.string(),K.event()])}static relayOK(){return b.tuple([b.literal("OK"),K.id(),b.boolean(),b.string()])}static relayEOSE(){return b.tuple([b.literal("EOSE"),b.string()])}static relayNOTICE(){return b.tuple([b.literal("NOTICE"),b.string()])}static relayCLOSED(){return b.tuple([b.literal("CLOSED"),b.string(),b.string()])}static relayAUTH(){return b.tuple([b.literal("AUTH"),b.string()])}static relayCOUNT(){return b.tuple([b.literal("COUNT"),b.string(),b.object({count:b.number().int().nonnegative(),approximate:b.boolean().optional()})])}static relayMsg(){return b.union([K.relayEVENT(),K.relayOK(),K.relayEOSE(),K.relayNOTICE(),K.relayCLOSED(),K.relayAUTH(),K.relayCOUNT()])}static metadata(){return b.object({about:b.string().optional().catch(void 0),banner:b.string().url().optional().catch(void 0),bot:b.boolean().optional().catch(void 0),display_name:b.string().optional().catch(void 0),lud06:K.bech32("lnurl").optional().catch(void 0),lud16:b.string().email().optional().catch(void 0),name:b.string().optional().catch(void 0),nip05:b.string().email().optional().catch(void 0),picture:b.string().url().optional().catch(void 0),website:b.string().url().optional().catch(void 0)}).passthrough()}static connectRequest(){return b.object({id:b.string(),method:b.string(),params:b.string().array()})}static connectResponse(){return b.object({id:b.string(),result:b.string(),error:b.string().optional()})}static json(){return b.string().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:b.ZodIssueCode.custom,message:"Invalid JSON"}),b.NEVER}})}}class mi{constructor({relay:t,pubkey:n,signer:r,timeout:o,encryption:s="nip44"}){z(this,"relay");z(this,"pubkey");z(this,"signer");z(this,"timeout");z(this,"encryption");z(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});z(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=o,this.encryption=s}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return K.json().pipe(K.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return K.json().pipe(b.record(b.string(),b.object({read:b.boolean(),write:b.boolean()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:o,error:s}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(s)throw new Error(s);return o}async send(t,n={}){const{signal:r}=n,o=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),s=await this.signer.getPublicKey(),c=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[s]}],{signal:r});await this.relay.event(o,{signal:r});for await(const l of c){if(l[0]==="CLOSED")throw new Error("Subscription closed");if(l[0]==="EVENT"){const f=l[2],d=await this.decrypt(this.pubkey,f.content),p=K.json().pipe(K.connectResponse()).parse(d);if(p.id===t.id)return p}}throw new Error("Unreachable")}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}var ye,ot,dn;class vi{constructor(t){H(this,ot);H(this,ye);z(this,"pubkey");z(this,"nip04",{encrypt:async(t,n)=>tr.encrypt(x(this,ye),t,n),decrypt:async(t,n)=>tr.decrypt(x(this,ye),t,n)});z(this,"nip44",{encrypt:async(t,n)=>{const r=W(this,ot,dn).call(this,t);return $t.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=W(this,ot,dn).call(this,t);return $t.v2.decrypt(n,r)}});V(this,ye,t)}async getPublicKey(){return this.pubkey??(this.pubkey=Mr(x(this,ye)))}async signEvent(t){return js(t,x(this,ye))}}ye=new WeakMap,ot=new WeakSet,dn=function(t){return $t.v2.utils.getConversationKey(x(this,ye),t)};class Me{constructor(t,n,r){z(this,"id");z(this,"type");z(this,"pubkey");z(this,"createdAt");z(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=vt.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,o=Mr(r);return new Me("nsec",o,{nsec:vt.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:o,relays:s}=new Je(t);if(!s.length)throw new Error("No relay provided");const c=Ir(),l=vt.nsecEncode(c),f=new vi(c),d=new mi({relay:n.group(s),pubkey:r,signer:f,timeout:6e4});await d.connect(o);const p=await d.getPublicKey();return new Me("bunker",p,{bunkerPubkey:r,clientNsec:l,relays:s})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new Me("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}function Ur(){const e=i.useContext(ks);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const gi=Ms("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),de=i.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...o},s)=>{const c=r?Is:"button";return a.jsx(c,{className:L(gi({variant:t,size:n,className:e})),ref:s,...o})});de.displayName="Button";const fn=i.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:L("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));fn.displayName="Input";var Kt={exports:{}},Gt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ur;function yi(){if(ur)return Gt;ur=1;var e=Ps();function t(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,s=e.useLayoutEffect,c=e.useDebugValue;function l(u,h){var m=h(),w=r({inst:{value:m,getSnapshot:h}}),g=w[0].inst,y=w[1];return s(function(){g.value=m,g.getSnapshot=h,f(g)&&y({inst:g})},[u,m,h]),o(function(){return f(g)&&y({inst:g}),u(function(){f(g)&&y({inst:g})})},[u]),c(m),m}function f(u){var h=u.getSnapshot;u=u.value;try{var m=h();return!n(u,m)}catch{return!0}}function d(u,h){return h()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Gt.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Gt}var dr;function xi(){return dr||(dr=1,Kt.exports=yi()),Kt.exports}var bi=xi();function wi(){return bi.useSyncExternalStore(Ci,()=>!0,()=>!1)}function Ci(){return()=>{}}var jn="Avatar",[Ei,td]=Te(jn),[Ri,Kr]=Ei(jn),Gr=i.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,s]=i.useState("idle");return a.jsx(Ri,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:a.jsx(F.span,{...r,ref:t})})});Gr.displayName=jn;var Br="AvatarImage",Vr=i.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...s}=e,c=Kr(Br,n),l=Ni(r,s),f=He(d=>{o(d),c.onImageLoadingStatusChange(d)});return Ct(()=>{l!=="idle"&&f(l)},[l,f]),l==="loaded"?a.jsx(F.img,{...s,ref:t,src:r}):null});Vr.displayName=Br;var Wr="AvatarFallback",zr=i.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,s=Kr(Wr,n),[c,l]=i.useState(r===void 0);return i.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(f)}},[r]),c&&s.imageLoadingStatus!=="loaded"?a.jsx(F.span,{...o,ref:t}):null});zr.displayName=Wr;function fr(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ni(e,{referrerPolicy:t,crossOrigin:n}){const r=wi(),o=i.useRef(null),s=r?(o.current||(o.current=new window.Image),o.current):null,[c,l]=i.useState(()=>fr(s,e));return Ct(()=>{l(fr(s,e))},[s,e]),Ct(()=>{const f=u=>()=>{l(u)};if(!s)return;const d=f("loaded"),p=f("error");return s.addEventListener("load",d),s.addEventListener("error",p),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",d),s.removeEventListener("error",p)}},[s,n,t]),c}var Hr=Gr,Qr=Vr,qr=zr;const pn=i.forwardRef(({className:e,...t},n)=>a.jsx(Hr,{ref:n,className:L("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));pn.displayName=Hr.displayName;const hn=i.forwardRef(({className:e,...t},n)=>a.jsx(Qr,{ref:n,className:L("aspect-square h-full w-full",e),...t}));hn.displayName=Qr.displayName;const mn=i.forwardRef(({className:e,...t},n)=>a.jsx(qr,{ref:n,className:L("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));mn.displayName=qr.displayName;function Si(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let c=0;c<e.length;c++){const l=e.charCodeAt(c);r=(r<<5)-r+l,r=r&r}const o=Math.abs(r)%t.length,s=Math.abs(r>>8)%n.length;return[t[o],n[s]].join(" ")}var Bt="focusScope.autoFocusOnMount",Vt="focusScope.autoFocusOnUnmount",pr={bubbles:!1,cancelable:!0},ji="FocusScope",jt=i.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...c}=e,[l,f]=i.useState(null),d=He(o),p=He(s),u=i.useRef(null),h=le(t,g=>f(g)),m=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(r){let g=function(R){if(m.paused||!l)return;const j=R.target;l.contains(j)?u.current=j:xe(u.current,{select:!0})},y=function(R){if(m.paused||!l)return;const j=R.relatedTarget;j!==null&&(l.contains(j)||xe(u.current,{select:!0}))},C=function(R){if(document.activeElement===document.body)for(const M of R)M.removedNodes.length>0&&xe(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const P=new MutationObserver(C);return l&&P.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),P.disconnect()}}},[r,l,m.paused]),i.useEffect(()=>{if(l){mr.add(m);const g=document.activeElement;if(!l.contains(g)){const C=new CustomEvent(Bt,pr);l.addEventListener(Bt,d),l.dispatchEvent(C),C.defaultPrevented||(ki(Di(Yr(l)),{select:!0}),document.activeElement===g&&xe(l))}return()=>{l.removeEventListener(Bt,d),setTimeout(()=>{const C=new CustomEvent(Vt,pr);l.addEventListener(Vt,p),l.dispatchEvent(C),C.defaultPrevented||xe(g??document.body,{select:!0}),l.removeEventListener(Vt,p),mr.remove(m)},0)}}},[l,d,p,m]);const w=i.useCallback(g=>{if(!n&&!r||m.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,C=document.activeElement;if(y&&C){const P=g.currentTarget,[R,j]=Mi(P);R&&j?!g.shiftKey&&C===j?(g.preventDefault(),n&&xe(R,{select:!0})):g.shiftKey&&C===R&&(g.preventDefault(),n&&xe(j,{select:!0})):C===P&&g.preventDefault()}},[n,r,m.paused]);return a.jsx(F.div,{tabIndex:-1,...c,ref:h,onKeyDown:w})});jt.displayName=ji;function ki(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(xe(r,{select:t}),document.activeElement!==n)return}function Mi(e){const t=Yr(e),n=hr(t,e),r=hr(t.reverse(),e);return[n,r]}function Yr(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function hr(e,t){for(const n of e)if(!Ii(n,{upTo:t}))return n}function Ii(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Pi(e){return e instanceof HTMLInputElement&&"select"in e}function xe(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Pi(e)&&t&&e.select()}}var mr=Ai();function Ai(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=vr(e,t),e.unshift(t)},remove(t){var n;e=vr(e,t),(n=e[0])==null||n.resume()}}}function vr(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Di(e){return e.filter(t=>t.tagName!=="A")}var Wt=0;function kn(){i.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??gr()),document.body.insertAdjacentElement("beforeend",e[1]??gr()),Wt++,()=>{Wt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Wt--}},[])}function gr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var he=function(){return he=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},he.apply(this,arguments)};function Xr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Ti(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var gt="right-scroll-bar-position",yt="width-before-scroll-bar",_i="with-scroll-bars-hidden",Oi="--removed-body-scroll-bar-size";function zt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Li(e,t){var n=i.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var Fi=typeof window<"u"?i.useLayoutEffect:i.useEffect,yr=new WeakMap;function $i(e,t){var n=Li(null,function(r){return e.forEach(function(o){return zt(o,r)})});return Fi(function(){var r=yr.get(n);if(r){var o=new Set(r),s=new Set(e),c=n.current;o.forEach(function(l){s.has(l)||zt(l,null)}),s.forEach(function(l){o.has(l)||zt(l,c)})}yr.set(n,e)},[e]),n}function Ui(e){return e}function Ki(e,t){t===void 0&&(t=Ui);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var c=t(s,r);return n.push(c),function(){n=n.filter(function(l){return l!==c})}},assignSyncMedium:function(s){for(r=!0;n.length;){var c=n;n=[],c.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var c=[];if(n.length){var l=n;n=[],l.forEach(s),c=n}var f=function(){var p=c;c=[],p.forEach(s)},d=function(){return Promise.resolve().then(f)};d(),n={push:function(p){c.push(p),d()},filter:function(p){return c=c.filter(p),n}}}};return o}function Gi(e){e===void 0&&(e={});var t=Ki(null);return t.options=he({async:!0,ssr:!1},e),t}var Zr=function(e){var t=e.sideCar,n=Xr(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return i.createElement(r,he({},n))};Zr.isSideCarExport=!0;function Bi(e,t){return e.useMedium(t),Zr}var Jr=Gi(),Ht=function(){},kt=i.forwardRef(function(e,t){var n=i.useRef(null),r=i.useState({onScrollCapture:Ht,onWheelCapture:Ht,onTouchMoveCapture:Ht}),o=r[0],s=r[1],c=e.forwardProps,l=e.children,f=e.className,d=e.removeScrollBar,p=e.enabled,u=e.shards,h=e.sideCar,m=e.noIsolation,w=e.inert,g=e.allowPinchZoom,y=e.as,C=y===void 0?"div":y,P=e.gapMode,R=Xr(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,M=$i([n,t]),I=he(he({},R),o);return i.createElement(i.Fragment,null,p&&i.createElement(j,{sideCar:Jr,removeScrollBar:d,shards:u,noIsolation:m,inert:w,setCallbacks:s,allowPinchZoom:!!g,lockRef:n,gapMode:P}),c?i.cloneElement(i.Children.only(l),he(he({},I),{ref:M})):i.createElement(C,he({},I,{className:f,ref:M}),l))});kt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kt.classNames={fullWidth:yt,zeroRight:gt};var Vi=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wi(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Vi();return t&&e.setAttribute("nonce",t),e}function zi(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Hi(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Qi=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Wi())&&(zi(t,n),Hi(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qi=function(){var e=Qi();return function(t,n){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},eo=function(){var e=qi(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},Yi={left:0,top:0,right:0,gap:0},Qt=function(e){return parseInt(e||"",10)||0},Xi=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Qt(n),Qt(r),Qt(o)]},Zi=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Yi;var t=Xi(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Ji=eo(),Ge="data-scroll-locked",ec=function(e,t,n,r){var o=e.left,s=e.top,c=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(_i,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ge,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gt,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(yt,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(gt," .").concat(gt,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(yt," .").concat(yt,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ge,`] {
    `).concat(Oi,": ").concat(l,`px;
  }
`)},xr=function(){var e=parseInt(document.body.getAttribute(Ge)||"0",10);return isFinite(e)?e:0},tc=function(){i.useEffect(function(){return document.body.setAttribute(Ge,(xr()+1).toString()),function(){var e=xr()-1;e<=0?document.body.removeAttribute(Ge):document.body.setAttribute(Ge,e.toString())}},[])},nc=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;tc();var s=i.useMemo(function(){return Zi(o)},[o]);return i.createElement(Ji,{styles:ec(s,!t,o,n?"":"!important")})},vn=!1;if(typeof window<"u")try{var dt=Object.defineProperty({},"passive",{get:function(){return vn=!0,!0}});window.addEventListener("test",dt,dt),window.removeEventListener("test",dt,dt)}catch{vn=!1}var Le=vn?{passive:!1}:!1,rc=function(e){return e.tagName==="TEXTAREA"},to=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!rc(e)&&n[t]==="visible")},oc=function(e){return to(e,"overflowY")},ac=function(e){return to(e,"overflowX")},br=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=no(e,r);if(o){var s=ro(e,r),c=s[1],l=s[2];if(c>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sc=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ic=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},no=function(e,t){return e==="v"?oc(t):ac(t)},ro=function(e,t){return e==="v"?sc(t):ic(t)},cc=function(e,t){return e==="h"&&t==="rtl"?-1:1},lc=function(e,t,n,r,o){var s=cc(e,window.getComputedStyle(t).direction),c=s*r,l=n.target,f=t.contains(l),d=!1,p=c>0,u=0,h=0;do{var m=ro(e,l),w=m[0],g=m[1],y=m[2],C=g-y-s*w;(w||C)&&no(e,l)&&(u+=C,h+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!f&&l!==document.body||f&&(t.contains(l)||t===l));return(p&&Math.abs(u)<1||!p&&Math.abs(h)<1)&&(d=!0),d},ft=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wr=function(e){return[e.deltaX,e.deltaY]},Cr=function(e){return e&&"current"in e?e.current:e},uc=function(e,t){return e[0]===t[0]&&e[1]===t[1]},dc=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fc=0,Fe=[];function pc(e){var t=i.useRef([]),n=i.useRef([0,0]),r=i.useRef(),o=i.useState(fc++)[0],s=i.useState(eo)[0],c=i.useRef(e);i.useEffect(function(){c.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var g=Ti([e.lockRef.current],(e.shards||[]).map(Cr),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=i.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!c.current.allowPinchZoom;var C=ft(g),P=n.current,R="deltaX"in g?g.deltaX:P[0]-C[0],j="deltaY"in g?g.deltaY:P[1]-C[1],M,I=g.target,O=Math.abs(R)>Math.abs(j)?"h":"v";if("touches"in g&&O==="h"&&I.type==="range")return!1;var D=br(O,I);if(!D)return!0;if(D?M=O:(M=O==="v"?"h":"v",D=br(O,I)),!D)return!1;if(!r.current&&"changedTouches"in g&&(R||j)&&(r.current=M),!M)return!0;var X=r.current||M;return lc(X,y,g,X==="h"?R:j)},[]),f=i.useCallback(function(g){var y=g;if(!(!Fe.length||Fe[Fe.length-1]!==s)){var C="deltaY"in y?wr(y):ft(y),P=t.current.filter(function(M){return M.name===y.type&&(M.target===y.target||y.target===M.shadowParent)&&uc(M.delta,C)})[0];if(P&&P.should){y.cancelable&&y.preventDefault();return}if(!P){var R=(c.current.shards||[]).map(Cr).filter(Boolean).filter(function(M){return M.contains(y.target)}),j=R.length>0?l(y,R[0]):!c.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),d=i.useCallback(function(g,y,C,P){var R={name:g,delta:y,target:C,should:P,shadowParent:hc(C)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(j){return j!==R})},1)},[]),p=i.useCallback(function(g){n.current=ft(g),r.current=void 0},[]),u=i.useCallback(function(g){d(g.type,wr(g),g.target,l(g,e.lockRef.current))},[]),h=i.useCallback(function(g){d(g.type,ft(g),g.target,l(g,e.lockRef.current))},[]);i.useEffect(function(){return Fe.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",f,Le),document.addEventListener("touchmove",f,Le),document.addEventListener("touchstart",p,Le),function(){Fe=Fe.filter(function(g){return g!==s}),document.removeEventListener("wheel",f,Le),document.removeEventListener("touchmove",f,Le),document.removeEventListener("touchstart",p,Le)}},[]);var m=e.removeScrollBar,w=e.inert;return i.createElement(i.Fragment,null,w?i.createElement(s,{styles:dc(o)}):null,m?i.createElement(nc,{gapMode:e.gapMode}):null)}function hc(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mc=Bi(Jr,pc);var Mt=i.forwardRef(function(e,t){return i.createElement(kt,he({},e,{ref:t,sideCar:mc}))});Mt.classNames=kt.classNames;var vc=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$e=new WeakMap,pt=new WeakMap,ht={},qt=0,oo=function(e){return e&&(e.host||oo(e.parentNode))},gc=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=oo(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},yc=function(e,t,n,r){var o=gc(t,Array.isArray(e)?e:[e]);ht[n]||(ht[n]=new WeakMap);var s=ht[n],c=[],l=new Set,f=new Set(o),d=function(u){!u||l.has(u)||(l.add(u),d(u.parentNode))};o.forEach(d);var p=function(u){!u||f.has(u)||Array.prototype.forEach.call(u.children,function(h){if(l.has(h))p(h);else try{var m=h.getAttribute(r),w=m!==null&&m!=="false",g=($e.get(h)||0)+1,y=(s.get(h)||0)+1;$e.set(h,g),s.set(h,y),c.push(h),g===1&&w&&pt.set(h,!0),y===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",h,C)}})};return p(t),l.clear(),qt++,function(){c.forEach(function(u){var h=$e.get(u)-1,m=s.get(u)-1;$e.set(u,h),s.set(u,m),h||(pt.has(u)||u.removeAttribute(r),pt.delete(u)),m||u.removeAttribute(n)}),qt--,qt||($e=new WeakMap,$e=new WeakMap,pt=new WeakMap,ht={})}},Mn=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=vc(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),yc(r,o,n,"aria-hidden")):function(){return null}},It="Dialog",[ao,nd]=Te(It),[xc,fe]=ao(It),so=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:c=!0}=e,l=i.useRef(null),f=i.useRef(null),[d,p]=at({prop:r,defaultProp:o??!1,onChange:s,caller:It});return a.jsx(xc,{scope:t,triggerRef:l,contentRef:f,contentId:re(),titleId:re(),descriptionId:re(),open:d,onOpenChange:p,onOpenToggle:i.useCallback(()=>p(u=>!u),[p]),modal:c,children:n})};so.displayName=It;var io="DialogTrigger",co=i.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=fe(io,n),s=le(t,o.triggerRef);return a.jsx(F.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":An(o.open),...r,ref:s,onClick:S(e.onClick,o.onOpenToggle)})});co.displayName=io;var In="DialogPortal",[bc,lo]=ao(In,{forceMount:void 0}),uo=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=fe(In,t);return a.jsx(bc,{scope:t,forceMount:n,children:i.Children.map(r,c=>a.jsx(me,{present:n||s.open,children:a.jsx(Cn,{asChild:!0,container:o,children:c})}))})};uo.displayName=In;var Et="DialogOverlay",fo=i.forwardRef((e,t)=>{const n=lo(Et,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=fe(Et,e.__scopeDialog);return s.modal?a.jsx(me,{present:r||s.open,children:a.jsx(Cc,{...o,ref:t})}):null});fo.displayName=Et;var wc=En("DialogOverlay.RemoveScroll"),Cc=i.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=fe(Et,n);return a.jsx(Mt,{as:wc,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(F.div,{"data-state":An(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ae="DialogContent",po=i.forwardRef((e,t)=>{const n=lo(Ae,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=fe(Ae,e.__scopeDialog);return a.jsx(me,{present:r||s.open,children:s.modal?a.jsx(Ec,{...o,ref:t}):a.jsx(Rc,{...o,ref:t})})});po.displayName=Ae;var Ec=i.forwardRef((e,t)=>{const n=fe(Ae,e.__scopeDialog),r=i.useRef(null),o=le(t,n.contentRef,r);return i.useEffect(()=>{const s=r.current;if(s)return Mn(s)},[]),a.jsx(ho,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:S(e.onCloseAutoFocus,s=>{var c;s.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:S(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&s.preventDefault()}),onFocusOutside:S(e.onFocusOutside,s=>s.preventDefault())})}),Rc=i.forwardRef((e,t)=>{const n=fe(Ae,e.__scopeDialog),r=i.useRef(!1),o=i.useRef(!1);return a.jsx(ho,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c,l;(c=e.onCloseAutoFocus)==null||c.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var f,d;(f=e.onInteractOutside)==null||f.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),ho=i.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...c}=e,l=fe(Ae,n),f=i.useRef(null),d=le(t,f);return kn(),a.jsxs(a.Fragment,{children:[a.jsx(jt,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:a.jsx(Rn,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":An(l.open),...c,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Nc,{titleId:l.titleId}),a.jsx(jc,{contentRef:f,descriptionId:l.descriptionId})]})]})}),Pn="DialogTitle",mo=i.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=fe(Pn,n);return a.jsx(F.h2,{id:o.titleId,...r,ref:t})});mo.displayName=Pn;var vo="DialogDescription",go=i.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=fe(vo,n);return a.jsx(F.p,{id:o.descriptionId,...r,ref:t})});go.displayName=vo;var yo="DialogClose",xo=i.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=fe(yo,n);return a.jsx(F.button,{type:"button",...r,ref:t,onClick:S(e.onClick,()=>o.onOpenChange(!1))})});xo.displayName=yo;function An(e){return e?"open":"closed"}var bo="DialogTitleWarning",[rd,wo]=As(bo,{contentName:Ae,titleName:Pn,docsSlug:"dialog"}),Nc=({titleId:e})=>{const t=wo(bo),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Sc="DialogDescriptionWarning",jc=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wo(Sc).contentName}}.`;return i.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Co=so,kc=co,Eo=uo,Dn=fo,Tn=po,Ro=mo,No=go,Mc=xo;const So=Co,od=kc,Ic=Eo,jo=i.forwardRef(({className:e,...t},n)=>a.jsx(Dn,{ref:n,className:L("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));jo.displayName=Dn.displayName;const _n=i.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Ic,{children:[a.jsx(jo,{}),a.jsxs(Tn,{ref:r,className:L("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(Mc,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Ds,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_n.displayName=Tn.displayName;const On=({className:e,...t})=>a.jsx("div",{className:L("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});On.displayName="DialogHeader";const Ln=i.forwardRef(({className:e,...t},n)=>a.jsx(Ro,{ref:n,className:L("text-lg font-semibold leading-none tracking-tight",e),...t}));Ln.displayName=Ro.displayName;const Fn=i.forwardRef(({className:e,...t},n)=>a.jsx(No,{ref:n,className:L("text-sm text-muted-foreground",e),...t}));Fn.displayName=No.displayName;var Pc=i.createContext(void 0);function $n(e){const t=i.useContext(Pc);return e||t||"ltr"}var Yt="rovingFocusGroup.onEntryFocus",Ac={bubbles:!1,cancelable:!0},st="RovingFocusGroup",[gn,ko,Dc]=Pr(st),[Tc,Pt]=Te(st,[Dc]),[_c,Oc]=Tc(st),Mo=i.forwardRef((e,t)=>a.jsx(gn.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(gn.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Lc,{...e,ref:t})})}));Mo.displayName=st;var Lc=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:c,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:f,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...u}=e,h=i.useRef(null),m=le(t,h),w=$n(s),[g,y]=at({prop:c,defaultProp:l??null,onChange:f,caller:st}),[C,P]=i.useState(!1),R=He(d),j=ko(n),M=i.useRef(!1),[I,O]=i.useState(0);return i.useEffect(()=>{const D=h.current;if(D)return D.addEventListener(Yt,R),()=>D.removeEventListener(Yt,R)},[R]),a.jsx(_c,{scope:n,orientation:r,dir:w,loop:o,currentTabStopId:g,onItemFocus:i.useCallback(D=>y(D),[y]),onItemShiftTab:i.useCallback(()=>P(!0),[]),onFocusableItemAdd:i.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:i.useCallback(()=>O(D=>D-1),[]),children:a.jsx(F.div,{tabIndex:C||I===0?-1:0,"data-orientation":r,...u,ref:m,style:{outline:"none",...e.style},onMouseDown:S(e.onMouseDown,()=>{M.current=!0}),onFocus:S(e.onFocus,D=>{const X=!M.current;if(D.target===D.currentTarget&&X&&!C){const B=new CustomEvent(Yt,Ac);if(D.currentTarget.dispatchEvent(B),!B.defaultPrevented){const te=j().filter(ae=>ae.focusable),q=te.find(ae=>ae.active),ie=te.find(ae=>ae.id===g),ve=[q,ie,...te].filter(Boolean).map(ae=>ae.ref.current);Ao(ve,p)}}M.current=!1}),onBlur:S(e.onBlur,()=>P(!1))})})}),Io="RovingFocusGroupItem",Po=i.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,children:c,...l}=e,f=re(),d=s||f,p=Oc(Io,n),u=p.currentTabStopId===d,h=ko(n),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:g}=p;return i.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),a.jsx(gn.ItemSlot,{scope:n,id:d,focusable:r,active:o,children:a.jsx(F.span,{tabIndex:u?0:-1,"data-orientation":p.orientation,...l,ref:t,onMouseDown:S(e.onMouseDown,y=>{r?p.onItemFocus(d):y.preventDefault()}),onFocus:S(e.onFocus,()=>p.onItemFocus(d)),onKeyDown:S(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){p.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const C=Uc(y,p.orientation,p.dir);if(C!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let R=h().filter(j=>j.focusable).map(j=>j.ref.current);if(C==="last")R.reverse();else if(C==="prev"||C==="next"){C==="prev"&&R.reverse();const j=R.indexOf(y.currentTarget);R=p.loop?Kc(R,j+1):R.slice(j+1)}setTimeout(()=>Ao(R))}}),children:typeof c=="function"?c({isCurrentTabStop:u,hasTabStop:g!=null}):c})})});Po.displayName=Io;var Fc={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $c(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Uc(e,t,n){const r=$c(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Fc[r]}function Ao(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Kc(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Do=Mo,To=Po,At="Tabs",[Gc,ad]=Te(At,[Pt]),_o=Pt(),[Bc,Un]=Gc(At),Oo=i.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:s,orientation:c="horizontal",dir:l,activationMode:f="automatic",...d}=e,p=$n(l),[u,h]=at({prop:r,onChange:o,defaultProp:s??"",caller:At});return a.jsx(Bc,{scope:n,baseId:re(),value:u,onValueChange:h,orientation:c,dir:p,activationMode:f,children:a.jsx(F.div,{dir:p,"data-orientation":c,...d,ref:t})})});Oo.displayName=At;var Lo="TabsList",Fo=i.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,s=Un(Lo,n),c=_o(n);return a.jsx(Do,{asChild:!0,...c,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(F.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:t})})});Fo.displayName=Lo;var $o="TabsTrigger",Uo=i.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...s}=e,c=Un($o,n),l=_o(n),f=Bo(c.baseId,r),d=Vo(c.baseId,r),p=r===c.value;return a.jsx(To,{asChild:!0,...l,focusable:!o,active:p,children:a.jsx(F.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":d,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...s,ref:t,onMouseDown:S(e.onMouseDown,u=>{!o&&u.button===0&&u.ctrlKey===!1?c.onValueChange(r):u.preventDefault()}),onKeyDown:S(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&c.onValueChange(r)}),onFocus:S(e.onFocus,()=>{const u=c.activationMode!=="manual";!p&&!o&&u&&c.onValueChange(r)})})})});Uo.displayName=$o;var Ko="TabsContent",Go=i.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:s,...c}=e,l=Un(Ko,n),f=Bo(l.baseId,r),d=Vo(l.baseId,r),p=r===l.value,u=i.useRef(p);return i.useEffect(()=>{const h=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(me,{present:o||p,children:({present:h})=>a.jsx(F.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":f,hidden:!h,id:d,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:u.current?"0s":void 0},children:h&&s})})});Go.displayName=Ko;function Bo(e,t){return`${e}-trigger-${t}`}function Vo(e,t){return`${e}-content-${t}`}var Vc=Oo,Wo=Fo,zo=Uo,Ho=Go;const Wc=Vc,Qo=i.forwardRef(({className:e,...t},n)=>a.jsx(Wo,{ref:n,className:L("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Qo.displayName=Wo.displayName;const xt=i.forwardRef(({className:e,...t},n)=>a.jsx(zo,{ref:n,className:L("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));xt.displayName=zo.displayName;const bt=i.forwardRef(({className:e,...t},n)=>a.jsx(Ho,{ref:n,className:L("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));bt.displayName=Ho.displayName;function qo(){const{nostr:e}=_r(),{logins:t,addLogin:n,removeLogin:r}=Ur();return{nsec(o){const s=Me.fromNsec(o);n(s)},async bunker(o){const s=await Me.fromBunker(o,e);n(s)},async extension(){const o=await Me.fromExtension();n(o)},async logout(){const o=t[0];o&&r(o.id)}}}const zc=({isOpen:e,onClose:t,onLogin:n,onSignup:r})=>{const[o,s]=i.useState(!1),[c,l]=i.useState(""),[f,d]=i.useState(""),p=i.useRef(null),u=qo(),h=()=>{s(!0);try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");u.extension(),n(),t()}catch(C){console.error("Extension login failed:",C)}finally{s(!1)}},m=()=>{if(c.trim()){s(!0);try{u.nsec(c),n(),t()}catch(C){console.error("Nsec login failed:",C)}finally{s(!1)}}},w=()=>{if(!(!f.trim()||!f.startsWith("bunker://"))){s(!0);try{u.bunker(f),n(),t()}catch(C){console.error("Bunker login failed:",C)}finally{s(!1)}}},g=C=>{var j;const P=(j=C.target.files)==null?void 0:j[0];if(!P)return;const R=new FileReader;R.onload=M=>{var O;const I=(O=M.target)==null?void 0:O.result;l(I.trim())},R.readAsText(P)},y=()=>{t(),r&&r()};return a.jsx(So,{open:e,onOpenChange:t,children:a.jsxs(_n,{className:"sm:max-w-md p-0 overflow-hidden rounded-2xl",children:[a.jsxs(On,{className:"px-6 pt-6 pb-0 relative",children:[a.jsx(Ln,{className:"text-xl font-semibold text-center",children:"Log in"}),a.jsx(Fn,{className:"text-center text-muted-foreground mt-2",children:"Access your account securely with your preferred method"})]}),a.jsxs("div",{className:"px-6 py-8 space-y-6",children:[a.jsxs(Wc,{defaultValue:"nostr"in window?"extension":"key",className:"w-full",children:[a.jsxs(Qo,{className:"grid grid-cols-3 mb-6",children:[a.jsx(xt,{value:"extension",children:"Extension"}),a.jsx(xt,{value:"key",children:"Nsec"}),a.jsx(xt,{value:"bunker",children:"Bunker"})]}),a.jsx(bt,{value:"extension",className:"space-y-4",children:a.jsxs("div",{className:"text-center p-4 rounded-lg bg-gray-50 dark:bg-gray-800",children:[a.jsx(li,{className:"w-12 h-12 mx-auto mb-3 text-primary"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Login with one click using the browser extension"}),a.jsx(de,{className:"w-full rounded-full py-6",onClick:h,disabled:o,children:o?"Logging in...":"Login with Extension"})]})}),a.jsx(bt,{value:"key",className:"space-y-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"nsec",className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Enter your nsec"}),a.jsx(fn,{id:"nsec",value:c,onChange:C=>l(C.target.value),className:"rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary",placeholder:"nsec1..."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm mb-2 text-gray-600 dark:text-gray-400",children:"Or upload a key file"}),a.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:p,onChange:g}),a.jsxs(de,{variant:"outline",className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700",onClick:()=>{var C;return(C=p.current)==null?void 0:C.click()},children:[a.jsx(ui,{className:"w-4 h-4 mr-2"}),"Upload Nsec File"]})]}),a.jsx(de,{className:"w-full rounded-full py-6 mt-4",onClick:m,disabled:o||!c.trim(),children:o?"Verifying...":"Login with Nsec"})]})}),a.jsxs(bt,{value:"bunker",className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"bunkerUri",className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Bunker URI"}),a.jsx(fn,{id:"bunkerUri",value:f,onChange:C=>d(C.target.value),className:"rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary",placeholder:"bunker://"}),f&&!f.startsWith("bunker://")&&a.jsx("p",{className:"text-red-500 text-xs",children:"URI must start with bunker://"})]}),a.jsx(de,{className:"w-full rounded-full py-6",onClick:w,disabled:o||!f.trim()||!f.startsWith("bunker://"),children:o?"Connecting...":"Login with Bunker"})]})]}),a.jsx("div",{className:"text-center text-sm",children:a.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",a.jsx("button",{onClick:y,className:"text-primary hover:underline font-medium",children:"Sign up"})]})})]})]})})},Hc=({isOpen:e,onClose:t})=>{const[n,r]=i.useState("generate"),[o,s]=i.useState(!1),[c,l]=i.useState(""),f=qo(),d=()=>{s(!0);try{const h=Ir();l(vt.nsecEncode(h)),r("download")}catch(h){console.error("Failed to generate key:",h),Ut({title:"Error",description:"Failed to generate key. Please try again.",variant:"destructive"})}finally{s(!1)}},p=()=>{const h=new Blob([c],{type:"text/plain"}),m=globalThis.URL.createObjectURL(h),w=document.createElement("a");w.href=m,w.download="nsec.txt",document.body.appendChild(w),w.click(),globalThis.URL.revokeObjectURL(m),document.body.removeChild(w),Ut({title:"Key downloaded",description:"Your key has been downloaded. Keep it safe!"})},u=()=>{f.nsec(c),r("done"),t(),Ut({title:"Account created",description:"You are now logged in."})};return a.jsx(So,{open:e,onOpenChange:t,children:a.jsxs(_n,{className:"sm:max-w-md p-0 overflow-hidden rounded-2xl",children:[a.jsxs(On,{className:"px-6 pt-6 pb-0 relative",children:[a.jsxs(Ln,{className:"text-xl font-semibold text-center",children:[n==="generate"&&"Create Your Account",n==="download"&&"Download Your Key",n==="done"&&"Setting Up Your Account"]}),a.jsxs(Fn,{className:"text-center text-muted-foreground mt-2",children:[n==="generate"&&"Generate a secure key for your account",n==="download"&&"Keep your key safe - you'll need it to log in",n==="done"&&"Finalizing your account setup"]})]}),a.jsxs("div",{className:"px-6 py-8 space-y-6",children:[n==="generate"&&a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-gray-800 flex items-center justify-center",children:a.jsx(ai,{className:"w-16 h-16 text-primary"})}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"We'll generate a secure key for your account. You'll need this key to log in later."}),a.jsx(de,{className:"w-full rounded-full py-6",onClick:d,disabled:o,children:o?"Generating key...":"Generate my key"})]}),n==="download"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"p-4 rounded-lg border bg-gray-50 dark:bg-gray-800 overflow-auto",children:a.jsx("code",{className:"text-xs break-all",children:c})}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-2",children:[a.jsx("p",{className:"font-medium text-red-500",children:"Important:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[a.jsx("li",{children:"This is your only way to access your account"}),a.jsx("li",{children:"Store it somewhere safe"}),a.jsx("li",{children:"Never share this key with anyone"})]})]}),a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsxs(de,{variant:"outline",className:"w-full",onClick:p,children:[a.jsx(ri,{className:"w-4 h-4 mr-2"}),"Download Key"]}),a.jsx(de,{className:"w-full rounded-full py-6",onClick:u,children:"I've saved my key, continue"})]})]}),n==="done"&&a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]})]})})};function Yo(){const{nostr:e}=_r(),{logins:t,setLogin:n,removeLogin:r}=Ur(),{data:o=[]}=Zs({queryKey:["logins",t.map(l=>l.id).join(";")],queryFn:async({signal:l})=>{const f=await e.query([{kinds:[0],authors:t.map(d=>d.pubkey)}],{signal:AbortSignal.any([l,AbortSignal.timeout(1500)])});return t.map(({id:d,pubkey:p})=>{const u=f.find(h=>h.pubkey===p);try{const h=nr.json().pipe(nr.metadata()).parse(u==null?void 0:u.content);return{id:d,pubkey:p,metadata:h,event:u}}catch{return{id:d,pubkey:p,metadata:{},event:u}}})},retry:3}),s=(()=>{const l=t[0];if(!l)return;const f=o.find(d=>d.id===l.id);return{metadata:{},...f,id:l.id,pubkey:l.pubkey}})(),c=(o||[]).slice(1);return{authors:o,currentUser:s,otherUsers:c,setLogin:n,removeLogin:r}}var yn=["Enter"," "],Qc=["ArrowDown","PageUp","Home"],Xo=["ArrowUp","PageDown","End"],qc=[...Qc,...Xo],Yc={ltr:[...yn,"ArrowRight"],rtl:[...yn,"ArrowLeft"]},Xc={ltr:["ArrowLeft"],rtl:["ArrowRight"]},it="Menu",[et,Zc,Jc]=Pr(it),[_e,Zo]=Te(it,[Jc,St,Pt]),Dt=St(),Jo=Pt(),[el,Oe]=_e(it),[tl,ct]=_e(it),ea=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:c=!0}=e,l=Dt(t),[f,d]=i.useState(null),p=i.useRef(!1),u=He(s),h=$n(o);return i.useEffect(()=>{const m=()=>{p.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>p.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(Ar,{...l,children:a.jsx(el,{scope:t,open:n,onOpenChange:u,content:f,onContentChange:d,children:a.jsx(tl,{scope:t,onClose:i.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:p,dir:h,modal:c,children:r})})})};ea.displayName=it;var nl="MenuAnchor",Kn=i.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Dt(n);return a.jsx(Nn,{...o,...r,ref:t})});Kn.displayName=nl;var Gn="MenuPortal",[rl,ta]=_e(Gn,{forceMount:void 0}),na=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=Oe(Gn,t);return a.jsx(rl,{scope:t,forceMount:n,children:a.jsx(me,{present:n||s.open,children:a.jsx(Cn,{asChild:!0,container:o,children:r})})})};na.displayName=Gn;var ce="MenuContent",[ol,Bn]=_e(ce),ra=i.forwardRef((e,t)=>{const n=ta(ce,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=Oe(ce,e.__scopeMenu),c=ct(ce,e.__scopeMenu);return a.jsx(et.Provider,{scope:e.__scopeMenu,children:a.jsx(me,{present:r||s.open,children:a.jsx(et.Slot,{scope:e.__scopeMenu,children:c.modal?a.jsx(al,{...o,ref:t}):a.jsx(sl,{...o,ref:t})})})})}),al=i.forwardRef((e,t)=>{const n=Oe(ce,e.__scopeMenu),r=i.useRef(null),o=le(t,r);return i.useEffect(()=>{const s=r.current;if(s)return Mn(s)},[]),a.jsx(Vn,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:S(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),sl=i.forwardRef((e,t)=>{const n=Oe(ce,e.__scopeMenu);return a.jsx(Vn,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),il=En("MenuContent.ScrollLock"),Vn=i.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:c,disableOutsidePointerEvents:l,onEntryFocus:f,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:h,onDismiss:m,disableOutsideScroll:w,...g}=e,y=Oe(ce,n),C=ct(ce,n),P=Dt(n),R=Jo(n),j=Zc(n),[M,I]=i.useState(null),O=i.useRef(null),D=le(t,O,y.onContentChange),X=i.useRef(0),B=i.useRef(""),te=i.useRef(0),q=i.useRef(null),ie=i.useRef("right"),ue=i.useRef(0),ve=w?Mt:i.Fragment,ae=w?{as:il,allowPinchZoom:!0}:void 0,qe=k=>{var $,Y;const Z=B.current+k,se=j().filter(G=>!G.disabled),v=document.activeElement,N=($=se.find(G=>G.ref.current===v))==null?void 0:$.textValue,A=se.map(G=>G.textValue),E=xl(A,Z,N),_=(Y=se.find(G=>G.textValue===E))==null?void 0:Y.ref.current;(function G(Ne){B.current=Ne,window.clearTimeout(X.current),Ne!==""&&(X.current=window.setTimeout(()=>G(""),1e3))})(Z),_&&setTimeout(()=>_.focus())};i.useEffect(()=>()=>window.clearTimeout(X.current),[]),kn();const ge=i.useCallback(k=>{var se,v;return ie.current===((se=q.current)==null?void 0:se.side)&&wl(k,(v=q.current)==null?void 0:v.area)},[]);return a.jsx(ol,{scope:n,searchRef:B,onItemEnter:i.useCallback(k=>{ge(k)&&k.preventDefault()},[ge]),onItemLeave:i.useCallback(k=>{var Z;ge(k)||((Z=O.current)==null||Z.focus(),I(null))},[ge]),onTriggerLeave:i.useCallback(k=>{ge(k)&&k.preventDefault()},[ge]),pointerGraceTimerRef:te,onPointerGraceIntentChange:i.useCallback(k=>{q.current=k},[]),children:a.jsx(ve,{...ae,children:a.jsx(jt,{asChild:!0,trapped:o,onMountAutoFocus:S(s,k=>{var Z;k.preventDefault(),(Z=O.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:a.jsx(Rn,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:h,onDismiss:m,children:a.jsx(Do,{asChild:!0,...R,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:I,onEntryFocus:S(f,k=>{C.isUsingKeyboardRef.current||k.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Dr,{role:"menu","aria-orientation":"vertical","data-state":xa(y.open),"data-radix-menu-content":"",dir:C.dir,...P,...g,ref:D,style:{outline:"none",...g.style},onKeyDown:S(g.onKeyDown,k=>{const se=k.target.closest("[data-radix-menu-content]")===k.currentTarget,v=k.ctrlKey||k.altKey||k.metaKey,N=k.key.length===1;se&&(k.key==="Tab"&&k.preventDefault(),!v&&N&&qe(k.key));const A=O.current;if(k.target!==A||!qc.includes(k.key))return;k.preventDefault();const _=j().filter($=>!$.disabled).map($=>$.ref.current);Xo.includes(k.key)&&_.reverse(),gl(_)}),onBlur:S(e.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(X.current),B.current="")}),onPointerMove:S(e.onPointerMove,tt(k=>{const Z=k.target,se=ue.current!==k.clientX;if(k.currentTarget.contains(Z)&&se){const v=k.clientX>ue.current?"right":"left";ie.current=v,ue.current=k.clientX}}))})})})})})})});ra.displayName=ce;var cl="MenuGroup",Wn=i.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(F.div,{role:"group",...r,ref:t})});Wn.displayName=cl;var ll="MenuLabel",oa=i.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(F.div,{...r,ref:t})});oa.displayName=ll;var Rt="MenuItem",Er="menu.itemSelect",Tt=i.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=i.useRef(null),c=ct(Rt,e.__scopeMenu),l=Bn(Rt,e.__scopeMenu),f=le(t,s),d=i.useRef(!1),p=()=>{const u=s.current;if(!n&&u){const h=new CustomEvent(Er,{bubbles:!0,cancelable:!0});u.addEventListener(Er,m=>r==null?void 0:r(m),{once:!0}),Ts(u,h),h.defaultPrevented?d.current=!1:c.onClose()}};return a.jsx(aa,{...o,ref:f,disabled:n,onClick:S(e.onClick,p),onPointerDown:u=>{var h;(h=e.onPointerDown)==null||h.call(e,u),d.current=!0},onPointerUp:S(e.onPointerUp,u=>{var h;d.current||(h=u.currentTarget)==null||h.click()}),onKeyDown:S(e.onKeyDown,u=>{const h=l.searchRef.current!=="";n||h&&u.key===" "||yn.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});Tt.displayName=Rt;var aa=i.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,c=Bn(Rt,n),l=Jo(n),f=i.useRef(null),d=le(t,f),[p,u]=i.useState(!1),[h,m]=i.useState("");return i.useEffect(()=>{const w=f.current;w&&m((w.textContent??"").trim())},[s.children]),a.jsx(et.ItemSlot,{scope:n,disabled:r,textValue:o??h,children:a.jsx(To,{asChild:!0,...l,focusable:!r,children:a.jsx(F.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:d,onPointerMove:S(e.onPointerMove,tt(w=>{r?c.onItemLeave(w):(c.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:S(e.onPointerLeave,tt(w=>c.onItemLeave(w))),onFocus:S(e.onFocus,()=>u(!0)),onBlur:S(e.onBlur,()=>u(!1))})})})}),ul="MenuCheckboxItem",sa=i.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return a.jsx(da,{scope:e.__scopeMenu,checked:n,children:a.jsx(Tt,{role:"menuitemcheckbox","aria-checked":Nt(n)?"mixed":n,...o,ref:t,"data-state":Hn(n),onSelect:S(o.onSelect,()=>r==null?void 0:r(Nt(n)?!0:!n),{checkForDefaultPrevented:!1})})})});sa.displayName=ul;var ia="MenuRadioGroup",[dl,fl]=_e(ia,{value:void 0,onValueChange:()=>{}}),ca=i.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=He(r);return a.jsx(dl,{scope:e.__scopeMenu,value:n,onValueChange:s,children:a.jsx(Wn,{...o,ref:t})})});ca.displayName=ia;var la="MenuRadioItem",ua=i.forwardRef((e,t)=>{const{value:n,...r}=e,o=fl(la,e.__scopeMenu),s=n===o.value;return a.jsx(da,{scope:e.__scopeMenu,checked:s,children:a.jsx(Tt,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Hn(s),onSelect:S(r.onSelect,()=>{var c;return(c=o.onValueChange)==null?void 0:c.call(o,n)},{checkForDefaultPrevented:!1})})})});ua.displayName=la;var zn="MenuItemIndicator",[da,pl]=_e(zn,{checked:!1}),fa=i.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=pl(zn,n);return a.jsx(me,{present:r||Nt(s.checked)||s.checked===!0,children:a.jsx(F.span,{...o,ref:t,"data-state":Hn(s.checked)})})});fa.displayName=zn;var hl="MenuSeparator",pa=i.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(F.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});pa.displayName=hl;var ml="MenuArrow",ha=i.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Dt(n);return a.jsx(Tr,{...o,...r,ref:t})});ha.displayName=ml;var vl="MenuSub",[sd,ma]=_e(vl),Ze="MenuSubTrigger",va=i.forwardRef((e,t)=>{const n=Oe(Ze,e.__scopeMenu),r=ct(Ze,e.__scopeMenu),o=ma(Ze,e.__scopeMenu),s=Bn(Ze,e.__scopeMenu),c=i.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:f}=s,d={__scopeMenu:e.__scopeMenu},p=i.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return i.useEffect(()=>p,[p]),i.useEffect(()=>{const u=l.current;return()=>{window.clearTimeout(u),f(null)}},[l,f]),a.jsx(Kn,{asChild:!0,...d,children:a.jsx(aa,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":xa(n.open),...e,ref:Pe(t,o.onTriggerChange),onClick:u=>{var h;(h=e.onClick)==null||h.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:S(e.onPointerMove,tt(u=>{s.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(s.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:S(e.onPointerLeave,tt(u=>{var m,w;p();const h=(m=n.content)==null?void 0:m.getBoundingClientRect();if(h){const g=(w=n.content)==null?void 0:w.dataset.side,y=g==="right",C=y?-5:5,P=h[y?"left":"right"],R=h[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+C,y:u.clientY},{x:P,y:h.top},{x:R,y:h.top},{x:R,y:h.bottom},{x:P,y:h.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:S(e.onKeyDown,u=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&u.key===" "||Yc[r.dir].includes(u.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),u.preventDefault())})})})});va.displayName=Ze;var ga="MenuSubContent",ya=i.forwardRef((e,t)=>{const n=ta(ce,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=Oe(ce,e.__scopeMenu),c=ct(ce,e.__scopeMenu),l=ma(ga,e.__scopeMenu),f=i.useRef(null),d=le(t,f);return a.jsx(et.Provider,{scope:e.__scopeMenu,children:a.jsx(me,{present:r||s.open,children:a.jsx(et.Slot,{scope:e.__scopeMenu,children:a.jsx(Vn,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:d,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var u;c.isUsingKeyboardRef.current&&((u=f.current)==null||u.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:S(e.onFocusOutside,p=>{p.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:S(e.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:S(e.onKeyDown,p=>{var m;const u=p.currentTarget.contains(p.target),h=Xc[c.dir].includes(p.key);u&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),p.preventDefault())})})})})})});ya.displayName=ga;function xa(e){return e?"open":"closed"}function Nt(e){return e==="indeterminate"}function Hn(e){return Nt(e)?"indeterminate":e?"checked":"unchecked"}function gl(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function yl(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function xl(e,t,n){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let c=yl(e,Math.max(s,0));o.length===1&&(c=c.filter(d=>d!==n));const f=c.find(d=>d.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function bl(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,c=t.length-1;s<t.length;c=s++){const l=t[s],f=t[c],d=l.x,p=l.y,u=f.x,h=f.y;p>r!=h>r&&n<(u-d)*(r-p)/(h-p)+d&&(o=!o)}return o}function wl(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return bl(n,t)}function tt(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Cl=ea,El=Kn,Rl=na,Nl=ra,Sl=Wn,jl=oa,kl=Tt,Ml=sa,Il=ca,Pl=ua,Al=fa,Dl=pa,Tl=ha,_l=va,Ol=ya,_t="DropdownMenu",[Ll,id]=Te(_t,[Zo]),ee=Zo(),[Fl,ba]=Ll(_t),wa=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:c,modal:l=!0}=e,f=ee(t),d=i.useRef(null),[p,u]=at({prop:o,defaultProp:s??!1,onChange:c,caller:_t});return a.jsx(Fl,{scope:t,triggerId:re(),triggerRef:d,contentId:re(),open:p,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(h=>!h),[u]),modal:l,children:a.jsx(Cl,{...f,open:p,onOpenChange:u,dir:r,modal:l,children:n})})};wa.displayName=_t;var Ca="DropdownMenuTrigger",Ea=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=ba(Ca,n),c=ee(n);return a.jsx(El,{asChild:!0,...c,children:a.jsx(F.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Pe(t,s.triggerRef),onPointerDown:S(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:S(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ea.displayName=Ca;var $l="DropdownMenuPortal",Ra=e=>{const{__scopeDropdownMenu:t,...n}=e,r=ee(t);return a.jsx(Rl,{...r,...n})};Ra.displayName=$l;var Na="DropdownMenuContent",Sa=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ba(Na,n),s=ee(n),c=i.useRef(!1);return a.jsx(Nl,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:S(e.onCloseAutoFocus,l=>{var f;c.current||(f=o.triggerRef.current)==null||f.focus(),c.current=!1,l.preventDefault()}),onInteractOutside:S(e.onInteractOutside,l=>{const f=l.detail.originalEvent,d=f.button===0&&f.ctrlKey===!0,p=f.button===2||d;(!o.modal||p)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Sa.displayName=Na;var Ul="DropdownMenuGroup",Kl=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ee(n);return a.jsx(Sl,{...o,...r,ref:t})});Kl.displayName=Ul;var Gl="DropdownMenuLabel",ja=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ee(n);return a.jsx(jl,{...o,...r,ref:t})});ja.displayName=Gl;var Bl="DropdownMenuItem",ka=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ee(n);return a.jsx(kl,{...o,...r,ref:t})});ka.displayName=Bl;var Vl="DropdownMenuCheckboxItem",Ma=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ee(n);return a.jsx(Ml,{...o,...r,ref:t})});Ma.displayName=Vl;var Wl="DropdownMenuRadioGroup",zl=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ee(n);return a.jsx(Il,{...o,...r,ref:t})});zl.displayName=Wl;var Hl="DropdownMenuRadioItem",Ia=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ee(n);return a.jsx(Pl,{...o,...r,ref:t})});Ia.displayName=Hl;var Ql="DropdownMenuItemIndicator",Pa=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ee(n);return a.jsx(Al,{...o,...r,ref:t})});Pa.displayName=Ql;var ql="DropdownMenuSeparator",Aa=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ee(n);return a.jsx(Dl,{...o,...r,ref:t})});Aa.displayName=ql;var Yl="DropdownMenuArrow",Xl=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ee(n);return a.jsx(Tl,{...o,...r,ref:t})});Xl.displayName=Yl;var Zl="DropdownMenuSubTrigger",Da=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ee(n);return a.jsx(_l,{...o,...r,ref:t})});Da.displayName=Zl;var Jl="DropdownMenuSubContent",Ta=i.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=ee(n);return a.jsx(Ol,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ta.displayName=Jl;var eu=wa,tu=Ea,nu=Ra,_a=Sa,Oa=ja,La=ka,Fa=Ma,$a=Ia,Ua=Pa,Ka=Aa,Ga=Da,Ba=Ta;const Va=eu,Wa=tu,ru=i.forwardRef(({className:e,inset:t,children:n,...r},o)=>a.jsxs(Ga,{ref:o,className:L("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(ei,{className:"ml-auto h-4 w-4"})]}));ru.displayName=Ga.displayName;const ou=i.forwardRef(({className:e,...t},n)=>a.jsx(Ba,{ref:n,className:L("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ou.displayName=Ba.displayName;const Qn=i.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(nu,{children:a.jsx(_a,{ref:r,sideOffset:t,className:L("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Qn.displayName=_a.displayName;const Ie=i.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(La,{ref:r,className:L("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Ie.displayName=La.displayName;const au=i.forwardRef(({className:e,children:t,checked:n,...r},o)=>a.jsxs(Fa,{ref:o,className:L("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Ua,{children:a.jsx(Fr,{className:"h-4 w-4"})})}),t]}));au.displayName=Fa.displayName;const su=i.forwardRef(({className:e,children:t,...n},r)=>a.jsxs($a,{ref:r,className:L("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Ua,{children:a.jsx(ni,{className:"h-2 w-2 fill-current"})})}),t]}));su.displayName=$a.displayName;const iu=i.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(Oa,{ref:r,className:L("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));iu.displayName=Oa.displayName;const xn=i.forwardRef(({className:e,...t},n)=>a.jsx(Ka,{ref:n,className:L("-mx-1 my-1 h-px bg-muted",e),...t}));xn.displayName=Ka.displayName;var Rr=1,cu=.9,lu=.8,uu=.17,Xt=.1,Zt=.999,du=.9999,fu=.99,pu=/[\\\/_+.#"@\[\(\{&]/,hu=/[\\\/_+.#"@\[\(\{&]/g,mu=/[\s-]/,za=/[\s-]/g;function bn(e,t,n,r,o,s,c){if(s===t.length)return o===e.length?Rr:fu;var l=`${o},${s}`;if(c[l]!==void 0)return c[l];for(var f=r.charAt(s),d=n.indexOf(f,o),p=0,u,h,m,w;d>=0;)u=bn(e,t,n,r,d+1,s+1,c),u>p&&(d===o?u*=Rr:pu.test(e.charAt(d-1))?(u*=lu,m=e.slice(o,d-1).match(hu),m&&o>0&&(u*=Math.pow(Zt,m.length))):mu.test(e.charAt(d-1))?(u*=cu,w=e.slice(o,d-1).match(za),w&&o>0&&(u*=Math.pow(Zt,w.length))):(u*=uu,o>0&&(u*=Math.pow(Zt,d-o))),e.charAt(d)!==t.charAt(s)&&(u*=du)),(u<Xt&&n.charAt(d-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(d-1)!==r.charAt(s))&&(h=bn(e,t,n,r,d+1,s+2,c),h*Xt>u&&(u=h*Xt)),u>p&&(p=u),d=n.indexOf(f,d+1);return c[l]=p,p}function Nr(e){return e.toLowerCase().replace(za," ")}function vu(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,bn(e,t,Nr(e),Nr(t),0,0,{})}var Ye='[cmdk-group=""]',Jt='[cmdk-group-items=""]',gu='[cmdk-group-heading=""]',Ha='[cmdk-item=""]',Sr=`${Ha}:not([aria-disabled="true"])`,wn="cmdk-item-select",Ue="data-value",yu=(e,t,n)=>vu(e,t,n),Qa=i.createContext(void 0),lt=()=>i.useContext(Qa),qa=i.createContext(void 0),qn=()=>i.useContext(qa),Ya=i.createContext(void 0),Xa=i.forwardRef((e,t)=>{let n=Ke(()=>{var v,N;return{search:"",value:(N=(v=e.value)!=null?v:e.defaultValue)!=null?N:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Ke(()=>new Set),o=Ke(()=>new Map),s=Ke(()=>new Map),c=Ke(()=>new Set),l=Za(e),{label:f,children:d,value:p,onValueChange:u,filter:h,shouldFilter:m,loop:w,disablePointerSelection:g=!1,vimBindings:y=!0,...C}=e,P=re(),R=re(),j=re(),M=i.useRef(null),I=Mu();De(()=>{if(p!==void 0){let v=p.trim();n.current.value=v,O.emit()}},[p]),De(()=>{I(6,ie)},[]);let O=i.useMemo(()=>({subscribe:v=>(c.current.add(v),()=>c.current.delete(v)),snapshot:()=>n.current,setState:(v,N,A)=>{var E,_,$,Y;if(!Object.is(n.current[v],N)){if(n.current[v]=N,v==="search")q(),B(),I(1,te);else if(v==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let G=document.getElementById(j);G?G.focus():(E=document.getElementById(P))==null||E.focus()}if(I(7,()=>{var G;n.current.selectedItemId=(G=ue())==null?void 0:G.id,O.emit()}),A||I(5,ie),((_=l.current)==null?void 0:_.value)!==void 0){let G=N??"";(Y=($=l.current).onValueChange)==null||Y.call($,G);return}}O.emit()}},emit:()=>{c.current.forEach(v=>v())}}),[]),D=i.useMemo(()=>({value:(v,N,A)=>{var E;N!==((E=s.current.get(v))==null?void 0:E.value)&&(s.current.set(v,{value:N,keywords:A}),n.current.filtered.items.set(v,X(N,A)),I(2,()=>{B(),O.emit()}))},item:(v,N)=>(r.current.add(v),N&&(o.current.has(N)?o.current.get(N).add(v):o.current.set(N,new Set([v]))),I(3,()=>{q(),B(),n.current.value||te(),O.emit()}),()=>{s.current.delete(v),r.current.delete(v),n.current.filtered.items.delete(v);let A=ue();I(4,()=>{q(),(A==null?void 0:A.getAttribute("id"))===v&&te(),O.emit()})}),group:v=>(o.current.has(v)||o.current.set(v,new Set),()=>{s.current.delete(v),o.current.delete(v)}),filter:()=>l.current.shouldFilter,label:f||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:P,inputId:j,labelId:R,listInnerRef:M}),[]);function X(v,N){var A,E;let _=(E=(A=l.current)==null?void 0:A.filter)!=null?E:yu;return v?_(v,n.current.search,N):0}function B(){if(!n.current.search||l.current.shouldFilter===!1)return;let v=n.current.filtered.items,N=[];n.current.filtered.groups.forEach(E=>{let _=o.current.get(E),$=0;_.forEach(Y=>{let G=v.get(Y);$=Math.max(G,$)}),N.push([E,$])});let A=M.current;ve().sort((E,_)=>{var $,Y;let G=E.getAttribute("id"),Ne=_.getAttribute("id");return(($=v.get(Ne))!=null?$:0)-((Y=v.get(G))!=null?Y:0)}).forEach(E=>{let _=E.closest(Jt);_?_.appendChild(E.parentElement===_?E:E.closest(`${Jt} > *`)):A.appendChild(E.parentElement===A?E:E.closest(`${Jt} > *`))}),N.sort((E,_)=>_[1]-E[1]).forEach(E=>{var _;let $=(_=M.current)==null?void 0:_.querySelector(`${Ye}[${Ue}="${encodeURIComponent(E[0])}"]`);$==null||$.parentElement.appendChild($)})}function te(){let v=ve().find(A=>A.getAttribute("aria-disabled")!=="true"),N=v==null?void 0:v.getAttribute(Ue);O.setState("value",N||void 0)}function q(){var v,N,A,E;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let _=0;for(let $ of r.current){let Y=(N=(v=s.current.get($))==null?void 0:v.value)!=null?N:"",G=(E=(A=s.current.get($))==null?void 0:A.keywords)!=null?E:[],Ne=X(Y,G);n.current.filtered.items.set($,Ne),Ne>0&&_++}for(let[$,Y]of o.current)for(let G of Y)if(n.current.filtered.items.get(G)>0){n.current.filtered.groups.add($);break}n.current.filtered.count=_}function ie(){var v,N,A;let E=ue();E&&(((v=E.parentElement)==null?void 0:v.firstChild)===E&&((A=(N=E.closest(Ye))==null?void 0:N.querySelector(gu))==null||A.scrollIntoView({block:"nearest"})),E.scrollIntoView({block:"nearest"}))}function ue(){var v;return(v=M.current)==null?void 0:v.querySelector(`${Ha}[aria-selected="true"]`)}function ve(){var v;return Array.from(((v=M.current)==null?void 0:v.querySelectorAll(Sr))||[])}function ae(v){let N=ve()[v];N&&O.setState("value",N.getAttribute(Ue))}function qe(v){var N;let A=ue(),E=ve(),_=E.findIndex(Y=>Y===A),$=E[_+v];(N=l.current)!=null&&N.loop&&($=_+v<0?E[E.length-1]:_+v===E.length?E[0]:E[_+v]),$&&O.setState("value",$.getAttribute(Ue))}function ge(v){let N=ue(),A=N==null?void 0:N.closest(Ye),E;for(;A&&!E;)A=v>0?ju(A,Ye):ku(A,Ye),E=A==null?void 0:A.querySelector(Sr);E?O.setState("value",E.getAttribute(Ue)):qe(v)}let k=()=>ae(ve().length-1),Z=v=>{v.preventDefault(),v.metaKey?k():v.altKey?ge(1):qe(1)},se=v=>{v.preventDefault(),v.metaKey?ae(0):v.altKey?ge(-1):qe(-1)};return i.createElement(F.div,{ref:t,tabIndex:-1,...C,"cmdk-root":"",onKeyDown:v=>{var N;(N=C.onKeyDown)==null||N.call(C,v);let A=v.nativeEvent.isComposing||v.keyCode===229;if(!(v.defaultPrevented||A))switch(v.key){case"n":case"j":{y&&v.ctrlKey&&Z(v);break}case"ArrowDown":{Z(v);break}case"p":case"k":{y&&v.ctrlKey&&se(v);break}case"ArrowUp":{se(v);break}case"Home":{v.preventDefault(),ae(0);break}case"End":{v.preventDefault(),k();break}case"Enter":{v.preventDefault();let E=ue();if(E){let _=new Event(wn);E.dispatchEvent(_)}}}}},i.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:Pu},f),Ot(e,v=>i.createElement(qa.Provider,{value:O},i.createElement(Qa.Provider,{value:D},v))))}),xu=i.forwardRef((e,t)=>{var n,r;let o=re(),s=i.useRef(null),c=i.useContext(Ya),l=lt(),f=Za(e),d=(r=(n=f.current)==null?void 0:n.forceMount)!=null?r:c==null?void 0:c.forceMount;De(()=>{if(!d)return l.item(o,c==null?void 0:c.id)},[d]);let p=Ja(o,s,[e.value,e.children,s],e.keywords),u=qn(),h=Ee(I=>I.value&&I.value===p.current),m=Ee(I=>d||l.filter()===!1?!0:I.search?I.filtered.items.get(o)>0:!0);i.useEffect(()=>{let I=s.current;if(!(!I||e.disabled))return I.addEventListener(wn,w),()=>I.removeEventListener(wn,w)},[m,e.onSelect,e.disabled]);function w(){var I,O;g(),(O=(I=f.current).onSelect)==null||O.call(I,p.current)}function g(){u.setState("value",p.current,!0)}if(!m)return null;let{disabled:y,value:C,onSelect:P,forceMount:R,keywords:j,...M}=e;return i.createElement(F.div,{ref:Pe(s,t),...M,id:o,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!h,"data-disabled":!!y,"data-selected":!!h,onPointerMove:y||l.getDisablePointerSelection()?void 0:g,onClick:y?void 0:w},e.children)}),bu=i.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:o,...s}=e,c=re(),l=i.useRef(null),f=i.useRef(null),d=re(),p=lt(),u=Ee(m=>o||p.filter()===!1?!0:m.search?m.filtered.groups.has(c):!0);De(()=>p.group(c),[]),Ja(c,l,[e.value,e.heading,f]);let h=i.useMemo(()=>({id:c,forceMount:o}),[o]);return i.createElement(F.div,{ref:Pe(l,t),...s,"cmdk-group":"",role:"presentation",hidden:u?void 0:!0},n&&i.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),Ot(e,m=>i.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},i.createElement(Ya.Provider,{value:h},m))))}),wu=i.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,o=i.useRef(null),s=Ee(c=>!c.search);return!n&&!s?null:i.createElement(F.div,{ref:Pe(o,t),...r,"cmdk-separator":"",role:"separator"})}),Cu=i.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,o=e.value!=null,s=qn(),c=Ee(d=>d.search),l=Ee(d=>d.selectedItemId),f=lt();return i.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),i.createElement(F.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":l,id:f.inputId,type:"text",value:o?e.value:c,onChange:d=>{o||s.setState("search",d.target.value),n==null||n(d.target.value)}})}),Eu=i.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...o}=e,s=i.useRef(null),c=i.useRef(null),l=Ee(d=>d.selectedItemId),f=lt();return i.useEffect(()=>{if(c.current&&s.current){let d=c.current,p=s.current,u,h=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let m=d.offsetHeight;p.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(u),h.unobserve(d)}}},[]),i.createElement(F.div,{ref:Pe(s,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:f.listId},Ot(e,d=>i.createElement("div",{ref:Pe(c,f.listInnerRef),"cmdk-list-sizer":""},d)))}),Ru=i.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:o,contentClassName:s,container:c,...l}=e;return i.createElement(Co,{open:n,onOpenChange:r},i.createElement(Eo,{container:c},i.createElement(Dn,{"cmdk-overlay":"",className:o}),i.createElement(Tn,{"aria-label":e.label,"cmdk-dialog":"",className:s},i.createElement(Xa,{ref:t,...l}))))}),Nu=i.forwardRef((e,t)=>Ee(n=>n.filtered.count===0)?i.createElement(F.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Su=i.forwardRef((e,t)=>{let{progress:n,children:r,label:o="Loading...",...s}=e;return i.createElement(F.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},Ot(e,c=>i.createElement("div",{"aria-hidden":!0},c)))}),oe=Object.assign(Xa,{List:Eu,Item:xu,Input:Cu,Group:bu,Separator:wu,Dialog:Ru,Empty:Nu,Loading:Su});function ju(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function ku(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Za(e){let t=i.useRef(e);return De(()=>{t.current=e}),t}var De=typeof window>"u"?i.useEffect:i.useLayoutEffect;function Ke(e){let t=i.useRef();return t.current===void 0&&(t.current=e()),t}function Ee(e){let t=qn(),n=()=>e(t.snapshot());return i.useSyncExternalStore(t.subscribe,n,n)}function Ja(e,t,n,r=[]){let o=i.useRef(),s=lt();return De(()=>{var c;let l=(()=>{var d;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(d=p.current.textContent)==null?void 0:d.trim():o.current}})(),f=r.map(d=>d.trim());s.value(e,l,f),(c=t.current)==null||c.setAttribute(Ue,l),o.current=l}),o}var Mu=()=>{let[e,t]=i.useState(),n=Ke(()=>new Map);return De(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,o)=>{n.current.set(r,o),t({})}};function Iu(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ot({asChild:e,children:t},n){return e&&i.isValidElement(t)?i.cloneElement(Iu(t),{ref:t.ref},n(t.props.children)):n(t)}var Pu={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const es=i.forwardRef(({className:e,...t},n)=>a.jsx(oe,{ref:n,className:L("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));es.displayName=oe.displayName;const ts=i.forwardRef(({className:e,...t},n)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(ci,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(oe.Input,{ref:n,className:L("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));ts.displayName=oe.Input.displayName;const ns=i.forwardRef(({className:e,...t},n)=>a.jsx(oe.List,{ref:n,className:L("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));ns.displayName=oe.List.displayName;const rs=i.forwardRef((e,t)=>a.jsx(oe.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));rs.displayName=oe.Empty.displayName;const os=i.forwardRef(({className:e,...t},n)=>a.jsx(oe.Group,{ref:n,className:L("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));os.displayName=oe.Group.displayName;const Au=i.forwardRef(({className:e,...t},n)=>a.jsx(oe.Separator,{ref:n,className:L("-mx-1 h-px bg-border",e),...t}));Au.displayName=oe.Separator.displayName;const wt=i.forwardRef(({className:e,...t},n)=>a.jsx(oe.Item,{ref:n,className:L("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));wt.displayName=oe.Item.displayName;var Lt="Popover",[as,cd]=Te(Lt,[St]),ut=St(),[Du,Re]=as(Lt),ss=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:c=!1}=e,l=ut(t),f=i.useRef(null),[d,p]=i.useState(!1),[u,h]=at({prop:r,defaultProp:o??!1,onChange:s,caller:Lt});return a.jsx(Ar,{...l,children:a.jsx(Du,{scope:t,contentId:re(),triggerRef:f,open:u,onOpenChange:h,onOpenToggle:i.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:d,onCustomAnchorAdd:i.useCallback(()=>p(!0),[]),onCustomAnchorRemove:i.useCallback(()=>p(!1),[]),modal:c,children:n})})};ss.displayName=Lt;var is="PopoverAnchor",Tu=i.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Re(is,n),s=ut(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:l}=o;return i.useEffect(()=>(c(),()=>l()),[c,l]),a.jsx(Nn,{...s,...r,ref:t})});Tu.displayName=is;var cs="PopoverTrigger",ls=i.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Re(cs,n),s=ut(n),c=le(t,o.triggerRef),l=a.jsx(F.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":hs(o.open),...r,ref:c,onClick:S(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:a.jsx(Nn,{asChild:!0,...s,children:l})});ls.displayName=cs;var Yn="PopoverPortal",[_u,Ou]=as(Yn,{forceMount:void 0}),us=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,s=Re(Yn,t);return a.jsx(_u,{scope:t,forceMount:n,children:a.jsx(me,{present:n||s.open,children:a.jsx(Cn,{asChild:!0,container:o,children:r})})})};us.displayName=Yn;var Qe="PopoverContent",ds=i.forwardRef((e,t)=>{const n=Ou(Qe,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,s=Re(Qe,e.__scopePopover);return a.jsx(me,{present:r||s.open,children:s.modal?a.jsx(Fu,{...o,ref:t}):a.jsx($u,{...o,ref:t})})});ds.displayName=Qe;var Lu=En("PopoverContent.RemoveScroll"),Fu=i.forwardRef((e,t)=>{const n=Re(Qe,e.__scopePopover),r=i.useRef(null),o=le(t,r),s=i.useRef(!1);return i.useEffect(()=>{const c=r.current;if(c)return Mn(c)},[]),a.jsx(Mt,{as:Lu,allowPinchZoom:!0,children:a.jsx(fs,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:S(e.onCloseAutoFocus,c=>{var l;c.preventDefault(),s.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:S(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,f=l.button===0&&l.ctrlKey===!0,d=l.button===2||f;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:S(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),$u=i.forwardRef((e,t)=>{const n=Re(Qe,e.__scopePopover),r=i.useRef(!1),o=i.useRef(!1);return a.jsx(fs,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c,l;(c=e.onCloseAutoFocus)==null||c.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var f,d;(f=e.onInteractOutside)==null||f.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),fs=i.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:p,...u}=e,h=Re(Qe,n),m=ut(n);return kn(),a.jsx(jt,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:a.jsx(Rn,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Dr,{"data-state":hs(h.open),role:"dialog",id:h.contentId,...m,...u,ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ps="PopoverClose",Uu=i.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Re(ps,n);return a.jsx(F.button,{type:"button",...r,ref:t,onClick:S(e.onClick,()=>o.onOpenChange(!1))})});Uu.displayName=ps;var Ku="PopoverArrow",Gu=i.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ut(n);return a.jsx(Tr,{...o,...r,ref:t})});Gu.displayName=Ku;function hs(e){return e?"open":"closed"}var Bu=ss,Vu=ls,Wu=us,ms=ds;const zu=Bu,Hu=Vu,vs=i.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>a.jsx(Wu,{children:a.jsx(ms,{ref:o,align:t,sideOffset:n,className:L("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));vs.displayName=ms.displayName;function Qu({className:e}){const{config:t,updateConfig:n,availableRelays:r}=_s(),[o,s]=i.useState(!1),[c,l]=i.useState(""),f=r.find(h=>h.url===t.relayUrl),d=h=>{const m=h.trim();return!m||m.includes("://")?m:`wss://${m}`},p=h=>{const m=d(h);m&&(n("relayUrl",m),s(!1),l(""))},u=h=>{const m=h.trim();if(!m)return!1;const w=d(m);try{return new URL(w),!0}catch{return!1}};return a.jsxs(zu,{open:o,onOpenChange:s,children:[a.jsx(Hu,{asChild:!0,children:a.jsxs(de,{variant:"outline",role:"combobox","aria-expanded":o,className:L("justify-between",e),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fi,{className:"h-4 w-4"}),a.jsx("span",{className:"truncate",children:f?f.name:t.relayUrl?t.relayUrl.replace(/^wss?:\/\//,""):"Select relay..."})]}),a.jsx(ti,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(vs,{className:"w-[300px] p-0",children:a.jsxs(es,{children:[a.jsx(ts,{placeholder:"Search relays or type URL...",value:c,onValueChange:l}),a.jsxs(ns,{children:[a.jsx(rs,{children:c&&u(c)?a.jsxs(wt,{onSelect:()=>p(c),className:"cursor-pointer",children:[a.jsx(cr,{className:"mr-2 h-4 w-4"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:"Add custom relay"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:d(c)})]})]}):a.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:c?"Invalid relay URL":"No relay found."})}),a.jsxs(os,{children:[r.filter(h=>!c||h.name.toLowerCase().includes(c.toLowerCase())||h.url.toLowerCase().includes(c.toLowerCase())).map(h=>a.jsxs(wt,{value:h.url,onSelect:m=>{n("relayUrl",m),s(!1),l("")},children:[a.jsx(Fr,{className:L("mr-2 h-4 w-4",t.relayUrl===h.url?"opacity-100":"opacity-0")}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:h.name}),a.jsx("span",{className:"text-xs text-muted-foreground",children:h.url})]})]},h.url)),c&&u(c)&&a.jsxs(wt,{onSelect:()=>p(c),className:"cursor-pointer border-t",children:[a.jsx(cr,{className:"mr-2 h-4 w-4"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:"Add custom relay"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:d(c)})]})]})]})]})]})})]})}function qu({onAddAccountClick:e}){const{currentUser:t,otherUsers:n,setLogin:r,removeLogin:o}=Yo();if(!t)return null;const s=c=>c.metadata.name??Si(c.pubkey);return a.jsxs(Va,{children:[a.jsx(Wa,{asChild:!0,children:a.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[a.jsxs(pn,{className:"w-10 h-10",children:[a.jsx(hn,{src:t.metadata.picture,alt:s(t)}),a.jsx(mn,{children:s(t).charAt(0)})]}),a.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:a.jsx("p",{className:"font-medium text-sm truncate",children:s(t)})}),a.jsx(Js,{className:"w-4 h-4 text-muted-foreground"})]})}),a.jsxs(Qn,{className:"w-56 p-2 animate-scale-in",children:[a.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Relay"}),a.jsx(Qu,{className:"w-full"}),a.jsx(xn,{}),a.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),n.map(c=>{var l;return a.jsxs(Ie,{onClick:()=>r(c.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[a.jsxs(pn,{className:"w-8 h-8",children:[a.jsx(hn,{src:c.metadata.picture,alt:s(c)}),a.jsx(mn,{children:((l=s(c))==null?void 0:l.charAt(0))||a.jsx($r,{})})]}),a.jsx("div",{className:"flex-1 truncate",children:a.jsx("p",{className:"text-sm font-medium",children:s(c)})}),c.id===t.id&&a.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},c.id)}),a.jsx(xn,{}),a.jsxs(Ie,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[a.jsx(di,{className:"w-4 h-4"}),a.jsx("span",{children:"Add another account"})]}),a.jsxs(Ie,{onClick:()=>o(t.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[a.jsx(si,{className:"w-4 h-4"}),a.jsx("span",{children:"Log out"})]})]})]})}function Yu({className:e}){const{currentUser:t}=Yo(),[n,r]=i.useState(!1),[o,s]=i.useState(!1),c=()=>{r(!1),s(!1)};return a.jsxs("div",{className:L("inline-flex items-center justify-center",e),children:[t?a.jsx(qu,{onAddAccountClick:()=>r(!0)}):a.jsxs(de,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:[a.jsx($r,{className:"w-4 h-4"}),a.jsx("span",{className:"truncate",children:"Log in"})]}),a.jsx(zc,{isOpen:n,onClose:()=>r(!1),onLogin:c,onSignup:()=>s(!0)}),a.jsx(Hc,{isOpen:o,onClose:()=>s(!1)})]})}function Xu(){const e=i.useContext(Os);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}function Zu(){const{setTheme:e,theme:t}=Xu();return a.jsxs(Va,{children:[a.jsx(Wa,{asChild:!0,children:a.jsxs(de,{variant:"outline",size:"icon",children:[a.jsx(lr,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(ir,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),a.jsxs(Qn,{align:"end",children:[a.jsxs(Ie,{onClick:()=>e("light"),className:"flex items-center gap-2",children:[a.jsx(lr,{className:"h-4 w-4"}),"Light",t==="light"&&a.jsx("span",{className:"ml-auto text-xs",children:""})]}),a.jsxs(Ie,{onClick:()=>e("dark"),className:"flex items-center gap-2",children:[a.jsx(ir,{className:"h-4 w-4"}),"Dark",t==="dark"&&a.jsx("span",{className:"ml-auto text-xs",children:""})]}),a.jsxs(Ie,{onClick:()=>e("system"),className:"flex items-center gap-2",children:[a.jsx(ii,{className:"h-4 w-4"}),"System",t==="system"&&a.jsx("span",{className:"ml-auto text-xs",children:""})]})]})]})}function ld({title:e,className:t=""}){return a.jsx("div",{className:`border-b bg-white dark:bg-gray-800 ${t}`,children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h1",{className:"text-xl font-semibold",children:"Articles"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["By ",a.jsx("a",{href:"https://nostr.buzz",target:"_blank",rel:"noopener noreferrer",className:"hover:underline font-medium",children:"Nostr.Buzz"})]})]}),e&&a.jsx("div",{className:"border-l pl-4 ml-2",children:a.jsx("h2",{className:"text-lg font-medium",children:e})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("a",{href:"https://github.com/nostr-buzz/nostr-articles",target:"_blank",rel:"noopener noreferrer","aria-label":"View source on GitHub",className:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-2 py-1 text-sm hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700",children:a.jsx(oi,{className:"h-[1.2rem] w-[1.2rem]"})}),a.jsx(Zu,{}),a.jsx(Yu,{className:"max-w-60"})]})]})})})}export{pn as A,de as B,So as D,ld as H,fn as I,Yu as L,vi as N,cr as P,Ls as Q,ci as S,Wc as T,$r as U,hn as a,mn as b,zu as c,Hu as d,vs as e,Qo as f,Si as g,xt as h,bt as i,od as j,_n as k,On as l,Ln as m,Fn as n,Zs as o,Xs as p,ar as q,mi as r,Vs as s,Ur as t,_r as u};
